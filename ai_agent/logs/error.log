2025-09-03 17:32:22,068 - ERROR - error ------ Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
2025-09-03 17:32:23,847 - ERROR - error ------ Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
2025-09-03 17:32:25,564 - ERROR - error ------ Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Unsupported parameter: 'max_tokens' is not supported with this model. Use 'max_completion_tokens' instead.", 'type': 'invalid_request_error', 'param': 'max_tokens', 'code': 'unsupported_parameter'}}
2025-09-03 17:40:45,326 - ERROR - error ------ Completions.create() got an unexpected keyword argument 'Verbosity'
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'Verbosity'
2025-09-03 17:40:46,328 - ERROR - error ------ Completions.create() got an unexpected keyword argument 'Verbosity'
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'Verbosity'
2025-09-03 17:40:47,329 - ERROR - error ------ Completions.create() got an unexpected keyword argument 'Verbosity'
Traceback (most recent call last):
  File "D:\ai_agent\services\llm_model.py", line 72, in ask_llm
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
TypeError: Completions.create() got an unexpected keyword argument 'Verbosity'
2025-09-04 18:00:50,625 - ERROR - Unhandled exception at http://localhost:8001/org/chat-list?session_id=20929b4e3ecd53680b4f195b2a43dade4a98d50316ad301b94cafe45fca6a122: 'NoneType' object has no attribute 'find'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 116, in list_sessions
    chats =await get_chat_by_session(session_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 385, in get_chat_by_session
    users_cursor = collection_name.find({"session_id": session_id}).sort("timestamp",-1)
                   ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'find'
2025-09-10 11:55:41,859 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 237, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
2025-09-10 11:56:28,825 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 237, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
2025-09-10 11:56:34,034 - ERROR - Unhandled exception at http://localhost:8001/org/auth: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 181, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: 'UkVssEVklzaW9ufEFSTnw4'
2025-09-15 11:06:37,155 - ERROR - CrewAI execution error: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 265, in rag_ask
    result = crew.kickoff()
             ^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 468, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 603, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 692, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 175, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 228, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 205, in execute_task
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 195, in execute_task
    result = self.agent_executor.invoke(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 163, in invoke
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 153, in invoke
    self._call(inputs, run_manager=run_manager)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 70, in _call
    next_step_output = self._take_next_step(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in _take_next_step
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in <listcomp>
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 134, in _iter_next_step
    output = self.agent.plan(  # type: ignore #  Incompatible types in assignment (expression has type "AgentAction | AgentFinish | list[AgentAction]", variable has type "AgentAction")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 462, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3262, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3249, in transform
    yield from self._transform_stream_with_config(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 2056, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3212, in _transform
    yield from final_pipeline
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1272, in transform
    for ichunk in input:
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 5300, in transform
    yield from self.bound.transform(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1290, in transform
    yield from self.stream(final, config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 411, in stream
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 391, in stream
    for chunk in self._stream(messages, stop=stop, **kwargs):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_openai\chat_models\base.py", line 637, in _stream
    response = self.client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-09-15 11:07:21,009 - ERROR - CrewAI execution error: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 265, in rag_ask
    result = crew.kickoff()
             ^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 468, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 603, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 692, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 175, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 228, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 205, in execute_task
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 195, in execute_task
    result = self.agent_executor.invoke(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 163, in invoke
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 153, in invoke
    self._call(inputs, run_manager=run_manager)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 70, in _call
    next_step_output = self._take_next_step(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in _take_next_step
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in <listcomp>
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 134, in _iter_next_step
    output = self.agent.plan(  # type: ignore #  Incompatible types in assignment (expression has type "AgentAction | AgentFinish | list[AgentAction]", variable has type "AgentAction")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 462, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3262, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3249, in transform
    yield from self._transform_stream_with_config(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 2056, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3212, in _transform
    yield from final_pipeline
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1272, in transform
    for ichunk in input:
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 5300, in transform
    yield from self.bound.transform(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1290, in transform
    yield from self.stream(final, config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 411, in stream
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 391, in stream
    for chunk in self._stream(messages, stop=stop, **kwargs):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_openai\chat_models\base.py", line 637, in _stream
    response = self.client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-09-15 11:10:01,293 - ERROR - CrewAI execution error: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 265, in rag_ask
    result = crew.kickoff()
             ^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 468, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 603, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 692, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 175, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 228, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 205, in execute_task
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 195, in execute_task
    result = self.agent_executor.invoke(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 163, in invoke
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 153, in invoke
    self._call(inputs, run_manager=run_manager)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 70, in _call
    next_step_output = self._take_next_step(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in _take_next_step
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in <listcomp>
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 134, in _iter_next_step
    output = self.agent.plan(  # type: ignore #  Incompatible types in assignment (expression has type "AgentAction | AgentFinish | list[AgentAction]", variable has type "AgentAction")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 462, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3262, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3249, in transform
    yield from self._transform_stream_with_config(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 2056, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3212, in _transform
    yield from final_pipeline
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1272, in transform
    for ichunk in input:
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 5300, in transform
    yield from self.bound.transform(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1290, in transform
    yield from self.stream(final, config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 411, in stream
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 391, in stream
    for chunk in self._stream(messages, stop=stop, **kwargs):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_openai\chat_models\base.py", line 637, in _stream
    response = self.client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-09-15 11:12:24,885 - ERROR - CrewAI execution error: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 265, in rag_ask
    result = crew.kickoff()
             ^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 468, in kickoff
    result = self._run_sequential_process()
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 603, in _run_sequential_process
    return self._execute_tasks(self.tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\crew.py", line 692, in _execute_tasks
    task_output = task.execute_sync(
                  ^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 175, in execute_sync
    return self._execute_core(agent, context, tools)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\task.py", line 228, in _execute_core
    result = agent.execute_task(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 206, in execute_task
    result = self.execute_task(task, context, tools)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 205, in execute_task
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agent.py", line 195, in execute_task
    result = self.agent_executor.invoke(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 163, in invoke
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\chains\base.py", line 153, in invoke
    self._call(inputs, run_manager=run_manager)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 70, in _call
    next_step_output = self._take_next_step(
                       ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in _take_next_step
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 1331, in <listcomp>
    [
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\crewai\agents\executor.py", line 134, in _iter_next_step
    output = self.agent.plan(  # type: ignore #  Incompatible types in assignment (expression has type "AgentAction | AgentFinish | list[AgentAction]", variable has type "AgentAction")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain\agents\agent.py", line 462, in plan
    for chunk in self.runnable.stream(inputs, config={"callbacks": callbacks}):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3262, in stream
    yield from self.transform(iter([input]), config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3249, in transform
    yield from self._transform_stream_with_config(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 2056, in _transform_stream_with_config
    chunk: Output = context.run(next, iterator)  # type: ignore
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 3212, in _transform
    yield from final_pipeline
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1272, in transform
    for ichunk in input:
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 5300, in transform
    yield from self.bound.transform(
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\runnables\base.py", line 1290, in transform
    yield from self.stream(final, config, **kwargs)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 411, in stream
    raise e
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_core\language_models\chat_models.py", line 391, in stream
    for chunk in self._stream(messages, stop=stop, **kwargs):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\langchain_openai\chat_models\base.py", line 637, in _stream
    response = self.client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.NotFoundError: Error code: 404 - {'error': {'message': 'The model `gpt-4-mini` does not exist or you do not have access to it.', 'type': 'invalid_request_error', 'param': None, 'code': 'model_not_found'}}
2025-09-15 13:02:11,185 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 142, in rag_knowledge_base
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:02:12,680 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 142, in rag_knowledge_base
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:02:59,898 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 142, in rag_knowledge_base
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:03:01,321 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 142, in rag_knowledge_base
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:13:38,289 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:13:39,834 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:13:56,218 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:13:57,729 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:00,911 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:02,296 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:18,231 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:19,648 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:23,048 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-15 13:14:24,577 - ERROR - error ------ Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
Traceback (most recent call last):
  File "D:\ai_agent\services\rag_services.py", line 148, in rag_tool_sync
    completion = client.chat.completions.create(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_utils\_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\resources\chat\completions\completions.py", line 1087, in create
    return self._post(
           ^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1249, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid type for 'messages[7].content': expected one of a string or array of objects, but got an object instead.", 'type': 'invalid_request_error', 'param': 'messages[7].content', 'code': 'invalid_type'}}
2025-09-16 10:50:54,468 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 299, in auth_user
    if result["code"] != HTTP_STATUS.OK:
       ~~~~~~^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-09-16 10:52:33,543 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 299, in auth_user
    if result["code"] != HTTP_STATUS.OK:
       ~~~~~~^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-09-16 10:56:23,428 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: 'NoneType' object is not subscriptable
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 299, in auth_user
    if result["code"] != HTTP_STATUS.OK:
       ~~~~~~^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-09-22 19:43:05,671 - ERROR - Unhandled exception at http://localhost:8001/org/auth: invalid literal for int() with base 10: '12345678987654df'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 181, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '12345678987654df'
2025-09-22 19:43:27,436 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: invalid literal for int() with base 10: '12345678987654df'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 237, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '12345678987654df'
2025-09-22 19:43:42,669 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: invalid literal for int() with base 10: '12345678987654df'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 237, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '12345678987654df'
2025-09-22 19:44:16,477 - ERROR - Unhandled exception at http://localhost:8001/org/auth-test: invalid literal for int() with base 10: '12345678987654df'
Traceback (most recent call last):
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 177, in __call__
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\prometheus_fastapi_instrumentator\middleware.py", line 175, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\www\AppData\Local\Programs\Python\Python311\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\routers\org_signup.py", line 237, in auth_user
    result = await authenticate_and_create_session(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ai_agent\services\org_service.py", line 208, in authenticate_and_create_session
    "arn_id":int(arn_value),
             ^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '12345678987654df'
